import{i as Qe,h as Ze,r as a,x as eo,D as oo,k as to,w as I,p as ye,t as ro,j as r,n as xe,G as k,s as X,J as so,y as we,o as no,z as Y,K as be,f as po,M as Te}from"./index-BHKn7YIl.js";import{B as K}from"./Box-9WReXZ1w.js";import{u as ao,m as io,G as lo,P as Pe,B as co,C as J,d as L}from"./Chip-Bz_UvCIe.js";import{u as uo,T as mo,P as fo,G as y,I as ho}from"./Grid-BG16ECV4.js";function go(o){return Ze("MuiTooltip",o)}const n=Qe("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function yo(o){return Math.round(o*1e5)/1e5}const xo=o=>{const{classes:e,disableInteractive:s,arrow:p,touch:i,placement:x}=o,_={popper:["popper",!s&&"popperInteractive",p&&"popperArrow"],tooltip:["tooltip",p&&"tooltipArrow",i&&"touch",`tooltipPlacement${we(x.split("-")[0])}`],arrow:["arrow"]};return no(_,go,e)},bo=X(Pe,{name:"MuiTooltip",slot:"Popper",overridesResolver:(o,e)=>{const{ownerState:s}=o;return[e.popper,!s.disableInteractive&&e.popperInteractive,s.arrow&&e.popperArrow,!s.open&&e.popperClose]}})(Y(({theme:o})=>({zIndex:(o.vars||o).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${n.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${n.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${n.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${n.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${n.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${n.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${n.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${n.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),To=X("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(o,e)=>{const{ownerState:s}=o;return[e.tooltip,s.touch&&e.touch,s.arrow&&e.tooltipArrow,e[`tooltipPlacement${we(s.placement.split("-")[0])}`]]}})(Y(({theme:o})=>({backgroundColor:o.vars?o.vars.palette.Tooltip.bg:o.alpha(o.palette.grey[700],.92),borderRadius:(o.vars||o).shape.borderRadius,color:(o.vars||o).palette.common.white,fontFamily:o.typography.fontFamily,padding:"4px 8px",fontSize:o.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:o.typography.fontWeightMedium,[`.${n.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${n.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${n.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${n.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:o.typography.pxToRem(14),lineHeight:`${yo(16/14)}em`,fontWeight:o.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${n.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${n.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${n.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${n.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${n.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${n.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${n.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${n.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${n.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${n.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),vo=X("span",{name:"MuiTooltip",slot:"Arrow"})(Y(({theme:o})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:o.vars?o.vars.palette.Tooltip.bg:o.alpha(o.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let W=!1;const ve=new so;let R={x:0,y:0};function F(o,e){return(s,...p)=>{e&&e(s,...p),o(s,...p)}}const wo=a.forwardRef(function(e,s){const p=eo({props:e,name:"MuiTooltip"}),{arrow:i=!1,children:x,classes:_,components:C={},componentsProps:j={},describeChild:Re=!1,disableFocusListener:Ce=!1,disableHoverListener:Q=!1,disableInteractive:je=!1,disableTouchListener:Ee=!1,enterDelay:Z=100,enterNextDelay:ee=0,enterTouchDelay:Me=700,followCursor:B=!1,id:Se,leaveDelay:oe=0,leaveTouchDelay:$e=1500,onClose:te,onOpen:re,open:Oe,placement:se="bottom",PopperComponent:ne,PopperProps:h={},slotProps:u={},slots:ze={},title:g,TransitionComponent:Ie,TransitionProps:ke,...pe}=p,d=a.isValidElement(x)?x:r.jsx("span",{children:x}),ae=oo(),Le=to(),[b,ie]=a.useState(),[A,We]=a.useState(null),E=a.useRef(!1),N=je||B,le=I(),D=I(),M=I(),ce=I(),[Fe,ue]=ao({controlled:Oe,default:!1,name:"Tooltip",state:"open"});let c=Fe;const U=uo(Se),T=a.useRef(),S=ye(()=>{T.current!==void 0&&(document.body.style.WebkitUserSelect=T.current,T.current=void 0),ce.clear()});a.useEffect(()=>S,[S]);const de=t=>{ve.clear(),W=!0,ue(!0),re&&!c&&re(t)},$=ye(t=>{ve.start(800+oe,()=>{W=!1}),ue(!1),te&&c&&te(t),le.start(ae.transitions.duration.shortest,()=>{E.current=!1})}),O=t=>{E.current&&t.type!=="touchstart"||(b&&b.removeAttribute("title"),D.clear(),M.clear(),Z||W&&ee?D.start(W?ee:Z,()=>{de(t)}):de(t))},G=t=>{D.clear(),M.start(oe,()=>{$(t)})},[,me]=a.useState(!1),fe=t=>{be(t.target)||(me(!1),G(t))},he=t=>{b||ie(t.currentTarget),be(t.target)&&(me(!0),O(t))},ge=t=>{E.current=!0;const m=d.props;m.onTouchStart&&m.onTouchStart(t)},Be=t=>{ge(t),M.clear(),le.clear(),S(),T.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(Me,()=>{document.body.style.WebkitUserSelect=T.current,O(t)})},Ae=t=>{d.props.onTouchEnd&&d.props.onTouchEnd(t),S(),M.start($e,()=>{$(t)})};a.useEffect(()=>{if(!c)return;function t(m){m.key==="Escape"&&$(m)}return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[$,c]);const Ne=ro(io(d),ie,s);!g&&g!==0&&(c=!1);const q=a.useRef(),De=t=>{const m=d.props;m.onMouseMove&&m.onMouseMove(t),R={x:t.clientX,y:t.clientY},q.current&&q.current.update()},v={},H=typeof g=="string";Re?(v.title=!c&&H&&!Q?g:null,v["aria-describedby"]=c?U:null):(v["aria-label"]=H?g:null,v["aria-labelledby"]=c&&!H?U:null);const l={...v,...pe,...d.props,className:xe(pe.className,d.props.className),onTouchStart:ge,ref:Ne,...B?{onMouseMove:De}:{}},w={};Ee||(l.onTouchStart=Be,l.onTouchEnd=Ae),Q||(l.onMouseOver=F(O,l.onMouseOver),l.onMouseLeave=F(G,l.onMouseLeave),N||(w.onMouseOver=O,w.onMouseLeave=G)),Ce||(l.onFocus=F(he,l.onFocus),l.onBlur=F(fe,l.onBlur),N||(w.onFocus=he,w.onBlur=fe));const f={...p,isRtl:Le,arrow:i,disableInteractive:N,placement:se,PopperComponentProp:ne,touch:E.current},P=typeof u.popper=="function"?u.popper(f):u.popper,Ue=a.useMemo(()=>{let t=[{name:"arrow",enabled:!!A,options:{element:A,padding:4}}];return h.popperOptions?.modifiers&&(t=t.concat(h.popperOptions.modifiers)),P?.popperOptions?.modifiers&&(t=t.concat(P.popperOptions.modifiers)),{...h.popperOptions,...P?.popperOptions,modifiers:t}},[A,h.popperOptions,P?.popperOptions]),V=xo(f),Ge=typeof u.transition=="function"?u.transition(f):u.transition,z={slots:{popper:C.Popper,transition:C.Transition??Ie,tooltip:C.Tooltip,arrow:C.Arrow,...ze},slotProps:{arrow:u.arrow??j.arrow,popper:{...h,...P??j.popper},tooltip:u.tooltip??j.tooltip,transition:{...ke,...Ge??j.transition}}},[qe,He]=k("popper",{elementType:bo,externalForwardedProps:z,ownerState:f,className:xe(V.popper,h?.className)}),[Ve,Ke]=k("transition",{elementType:lo,externalForwardedProps:z,ownerState:f}),[Je,Xe]=k("tooltip",{elementType:To,className:V.tooltip,externalForwardedProps:z,ownerState:f}),[Ye,_e]=k("arrow",{elementType:vo,className:V.arrow,externalForwardedProps:z,ownerState:f,ref:We});return r.jsxs(a.Fragment,{children:[a.cloneElement(d,l),r.jsx(qe,{as:ne??Pe,placement:se,anchorEl:B?{getBoundingClientRect:()=>({top:R.y,left:R.x,right:R.x,bottom:R.y,width:0,height:0})}:b,popperRef:q,open:b?c:!1,id:U,transition:!0,...w,...He,popperOptions:Ue,children:({TransitionProps:t})=>r.jsx(Ve,{timeout:ae.transitions.duration.shorter,...t,...Ke,children:r.jsxs(Je,{...Xe,children:[g,i?r.jsx(Ye,{..._e}):null]})})})]})}),Po=po(r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}));function Mo(o){const e=a.useMemo(()=>o.items.reduce((s,p)=>s+p.quantity*p.price,0),[o.items]);return r.jsxs(r.Fragment,{children:[r.jsxs(K,{display:"flex",justifyContent:"space-between",children:[r.jsx(co,{onClick:o.handleAgregar,variant:"contained",color:"primary",size:"small",children:"Agregar elemento"}),r.jsx(J,{label:`Total ${Te(e)}`,variant:"filled",color:"primary",size:"medium",sx:{fontWeight:"bold"}})]}),o.items.length===0&&r.jsx(mo,{alignSelf:"center",children:"Sin elementos"}),o.items.map((s,p)=>r.jsx(fo,{variant:"outlined",sx:{p:2,my:2},children:r.jsxs(y,{container:!0,spacing:2,children:[r.jsx(y,{size:12,children:r.jsxs(K,{display:"flex",children:[r.jsxs(K,{sx:{flexGrow:1},children:[r.jsx(J,{label:`Elemento #${p+1}`,color:"primary",variant:"outlined",size:"medium",sx:{fontWeight:"bold"}}),r.jsx(wo,{title:"Eliminar elemento",sx:{mx:2},children:r.jsx(ho,{onClick:()=>o.handleEliminar(p),color:"default",size:"small",children:r.jsx(Po,{})})})]}),r.jsx(J,{label:`Subtotal ${Te(s.quantity*s.price)}`,variant:"outlined",color:"primary",size:"medium",sx:{fontWeight:"bold"}})]})}),r.jsx(y,{size:{xs:12,sm:7},children:r.jsx(L,{label:"Nombre",value:s.name,onChange:i=>o.handleEditarElementos(p,{...s,name:i.target.value}),size:"small",fullWidth:!0})}),r.jsx(y,{size:{xs:12,sm:2},children:r.jsx(L,{label:"Cantidad",value:s.quantity,onChange:i=>o.handleEditarElementos(p,{...s,quantity:parseInt(i.target.value)||1}),type:"number",size:"small",fullWidth:!0})}),r.jsx(y,{size:{xs:12,sm:3},children:r.jsx(L,{label:"Precio",value:s.price,onChange:i=>o.handleEditarElementos(p,{...s,price:parseFloat(i.target.value)||0}),type:"number",size:"small",fullWidth:!0})}),r.jsx(y,{size:12,children:r.jsx(L,{label:"Link (opcional)",value:s.link,onChange:i=>o.handleEditarElementos(p,{...s,link:i.target.value}),type:"url",size:"small",fullWidth:!0})})]})},`elemento_${p}`))]})}export{Mo as default};
