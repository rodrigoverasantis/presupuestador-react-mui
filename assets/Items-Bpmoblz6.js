import{o as Ze,p as eo,r as l,q as oo,t as to,j as r,f as oe,C as ro,T as so,v as ao,d as no,k as po,s as te,l as je,h as lo}from"./index-CdPT_YiL.js";import{F as we}from"./utils-CHnqSh9I.js";import{g as Ee,t as io,a as co,j as k,e as uo,l as mo,h as Pe,i as ho,V as fo,H as F,G as go,y as $e,W as xo,m as re,X as Ce,c as yo,z as To,D as Z,d as bo,P as vo,U as b,I as wo,r as N}from"./Grid-CMHvTg5g.js";function Po(o={}){const{themeId:e,defaultTheme:s,defaultClassName:a="MuiBox-root",generateClassName:p}=o,f=Ze("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(eo);return l.forwardRef(function(x,D){const v=oo(s),{className:$,component:U="div",...H}=to(x);return r.jsx(f,{as:U,ref:D,className:oe($,p?p(a):a),theme:e&&v[e]||v,...H})})}const Co=Ee("MuiBox",["root"]),Ro=ao(),ee=Po({themeId:so,defaultTheme:Ro,defaultClassName:Co.root,generateClassName:ro.generate});function jo(o){return no("MuiTooltip",o)}const n=Ee("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]);function Eo(o){return Math.round(o*1e5)/1e5}const $o=o=>{const{classes:e,disableInteractive:s,arrow:a,touch:p,placement:f}=o,A={popper:["popper",!s&&"popperInteractive",a&&"popperArrow"],tooltip:["tooltip",a&&"tooltipArrow",p&&"touch",`tooltipPlacement${je(f.split("-")[0])}`],arrow:["arrow"]};return lo(A,jo,e)},Mo=te($e,{name:"MuiTooltip",slot:"Popper",overridesResolver:(o,e)=>{const{ownerState:s}=o;return[e.popper,!s.disableInteractive&&e.popperInteractive,s.arrow&&e.popperArrow,!s.open&&e.popperClose]}})(re(({theme:o})=>({zIndex:(o.vars||o).zIndex.tooltip,pointerEvents:"none",variants:[{props:({ownerState:e})=>!e.disableInteractive,style:{pointerEvents:"auto"}},{props:({open:e})=>!e,style:{pointerEvents:"none"}},{props:({ownerState:e})=>e.arrow,style:{[`&[data-popper-placement*="bottom"] .${n.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${n.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${n.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}},[`&[data-popper-placement*="left"] .${n.arrow}`]:{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="right"] .${n.arrow}`]:{left:0,marginLeft:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="right"] .${n.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!e.isRtl,style:{[`&[data-popper-placement*="left"] .${n.arrow}`]:{right:0,marginRight:"-0.71em"}}},{props:({ownerState:e})=>e.arrow&&!!e.isRtl,style:{[`&[data-popper-placement*="left"] .${n.arrow}`]:{left:0,marginLeft:"-0.71em"}}}]}))),So=te("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(o,e)=>{const{ownerState:s}=o;return[e.tooltip,s.touch&&e.touch,s.arrow&&e.tooltipArrow,e[`tooltipPlacement${je(s.placement.split("-")[0])}`]]}})(re(({theme:o})=>({backgroundColor:o.vars?o.vars.palette.Tooltip.bg:o.alpha(o.palette.grey[700],.92),borderRadius:(o.vars||o).shape.borderRadius,color:(o.vars||o).palette.common.white,fontFamily:o.typography.fontFamily,padding:"4px 8px",fontSize:o.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:o.typography.fontWeightMedium,[`.${n.popper}[data-popper-placement*="left"] &`]:{transformOrigin:"right center"},[`.${n.popper}[data-popper-placement*="right"] &`]:{transformOrigin:"left center"},[`.${n.popper}[data-popper-placement*="top"] &`]:{transformOrigin:"center bottom",marginBottom:"14px"},[`.${n.popper}[data-popper-placement*="bottom"] &`]:{transformOrigin:"center top",marginTop:"14px"},variants:[{props:({ownerState:e})=>e.arrow,style:{position:"relative",margin:0}},{props:({ownerState:e})=>e.touch,style:{padding:"8px 16px",fontSize:o.typography.pxToRem(14),lineHeight:`${Eo(16/14)}em`,fontWeight:o.typography.fontWeightRegular}},{props:({ownerState:e})=>!e.isRtl,style:{[`.${n.popper}[data-popper-placement*="left"] &`]:{marginRight:"14px"},[`.${n.popper}[data-popper-placement*="right"] &`]:{marginLeft:"14px"}}},{props:({ownerState:e})=>!e.isRtl&&e.touch,style:{[`.${n.popper}[data-popper-placement*="left"] &`]:{marginRight:"24px"},[`.${n.popper}[data-popper-placement*="right"] &`]:{marginLeft:"24px"}}},{props:({ownerState:e})=>!!e.isRtl,style:{[`.${n.popper}[data-popper-placement*="left"] &`]:{marginLeft:"14px"},[`.${n.popper}[data-popper-placement*="right"] &`]:{marginRight:"14px"}}},{props:({ownerState:e})=>!!e.isRtl&&e.touch,style:{[`.${n.popper}[data-popper-placement*="left"] &`]:{marginLeft:"24px"},[`.${n.popper}[data-popper-placement*="right"] &`]:{marginRight:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${n.popper}[data-popper-placement*="top"] &`]:{marginBottom:"24px"}}},{props:({ownerState:e})=>e.touch,style:{[`.${n.popper}[data-popper-placement*="bottom"] &`]:{marginTop:"24px"}}}]}))),Oo=te("span",{name:"MuiTooltip",slot:"Arrow"})(re(({theme:o})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:o.vars?o.vars.palette.Tooltip.bg:o.alpha(o.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}})));let W=!1;const Re=new xo;let E={x:0,y:0};function L(o,e){return(s,...a)=>{e&&e(s,...a),o(s,...a)}}const Io=l.forwardRef(function(e,s){const a=po({props:e,name:"MuiTooltip"}),{arrow:p=!1,children:f,classes:A,components:c={},componentsProps:x={},describeChild:D=!1,disableFocusListener:v=!1,disableHoverListener:$=!1,disableInteractive:U=!1,disableTouchListener:H=!1,enterDelay:se=100,enterNextDelay:ae=0,enterTouchDelay:Me=700,followCursor:q=!1,id:Se,leaveDelay:ne=0,leaveTouchDelay:Oe=1500,onClose:pe,onOpen:le,open:Ie,placement:ie="bottom",PopperComponent:ce,PopperProps:y={},slotProps:u={},slots:ze={},title:T,TransitionComponent:Be,TransitionProps:ke,...de}=a,m=l.isValidElement(f)?f:r.jsx("span",{children:f}),ue=io(),Fe=co(),[w,me]=l.useState(),[G,Ne]=l.useState(null),M=l.useRef(!1),V=U||q,he=k(),X=k(),S=k(),fe=k(),[We,ge]=uo({controlled:Ie,default:!1,name:"Tooltip",state:"open"});let d=We;const _=mo(Se),P=l.useRef(),O=Pe(()=>{P.current!==void 0&&(document.body.style.WebkitUserSelect=P.current,P.current=void 0),fe.clear()});l.useEffect(()=>O,[O]);const xe=t=>{Re.clear(),W=!0,ge(!0),le&&!d&&le(t)},I=Pe(t=>{Re.start(800+ne,()=>{W=!1}),ge(!1),pe&&d&&pe(t),he.start(ue.transitions.duration.shortest,()=>{M.current=!1})}),z=t=>{M.current&&t.type!=="touchstart"||(w&&w.removeAttribute("title"),X.clear(),S.clear(),se||W&&ae?X.start(W?ae:se,()=>{xe(t)}):xe(t))},K=t=>{X.clear(),S.start(ne,()=>{I(t)})},[,ye]=l.useState(!1),Te=t=>{Ce(t.target)||(ye(!1),K(t))},be=t=>{w||me(t.currentTarget),Ce(t.target)&&(ye(!0),z(t))},ve=t=>{M.current=!0;const h=m.props;h.onTouchStart&&h.onTouchStart(t)},Le=t=>{ve(t),S.clear(),he.clear(),O(),P.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",fe.start(Me,()=>{document.body.style.WebkitUserSelect=P.current,z(t)})},Ae=t=>{m.props.onTouchEnd&&m.props.onTouchEnd(t),O(),S.start(Oe,()=>{I(t)})};l.useEffect(()=>{if(!d)return;function t(h){h.key==="Escape"&&I(h)}return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}},[I,d]);const De=ho(fo(m),me,s);!T&&T!==0&&(d=!1);const Y=l.useRef(),Ue=t=>{const h=m.props;h.onMouseMove&&h.onMouseMove(t),E={x:t.clientX,y:t.clientY},Y.current&&Y.current.update()},C={},J=typeof T=="string";D?(C.title=!d&&J&&!$?T:null,C["aria-describedby"]=d?_:null):(C["aria-label"]=J?T:null,C["aria-labelledby"]=d&&!J?_:null);const i={...C,...de,...m.props,className:oe(de.className,m.props.className),onTouchStart:ve,ref:De,...q?{onMouseMove:Ue}:{}},R={};H||(i.onTouchStart=Le,i.onTouchEnd=Ae),$||(i.onMouseOver=L(z,i.onMouseOver),i.onMouseLeave=L(K,i.onMouseLeave),V||(R.onMouseOver=z,R.onMouseLeave=K)),v||(i.onFocus=L(be,i.onFocus),i.onBlur=L(Te,i.onBlur),V||(R.onFocus=be,R.onBlur=Te));const g={...a,isRtl:Fe,arrow:p,disableInteractive:V,placement:ie,PopperComponentProp:ce,touch:M.current},j=typeof u.popper=="function"?u.popper(g):u.popper,He=l.useMemo(()=>{let t=[{name:"arrow",enabled:!!G,options:{element:G,padding:4}}];return y.popperOptions?.modifiers&&(t=t.concat(y.popperOptions.modifiers)),j?.popperOptions?.modifiers&&(t=t.concat(j.popperOptions.modifiers)),{...y.popperOptions,...j?.popperOptions,modifiers:t}},[G,y.popperOptions,j?.popperOptions]),Q=$o(g),qe=typeof u.transition=="function"?u.transition(g):u.transition,B={slots:{popper:c.Popper,transition:c.Transition??Be,tooltip:c.Tooltip,arrow:c.Arrow,...ze},slotProps:{arrow:u.arrow??x.arrow,popper:{...y,...j??x.popper},tooltip:u.tooltip??x.tooltip,transition:{...ke,...qe??x.transition}}},[Ge,Ve]=F("popper",{elementType:Mo,externalForwardedProps:B,ownerState:g,className:oe(Q.popper,y?.className)}),[Xe,_e]=F("transition",{elementType:go,externalForwardedProps:B,ownerState:g}),[Ke,Ye]=F("tooltip",{elementType:So,className:Q.tooltip,externalForwardedProps:B,ownerState:g}),[Je,Qe]=F("arrow",{elementType:Oo,className:Q.arrow,externalForwardedProps:B,ownerState:g,ref:Ne});return r.jsxs(l.Fragment,{children:[l.cloneElement(m,i),r.jsx(Ge,{as:ce??$e,placement:ie,anchorEl:q?{getBoundingClientRect:()=>({top:E.y,left:E.x,right:E.x,bottom:E.y,width:0,height:0})}:w,popperRef:Y,open:w?d:!1,id:_,transition:!0,...R,...Ve,popperOptions:He,children:({TransitionProps:t})=>r.jsx(Xe,{timeout:ue.transitions.duration.shorter,...t,..._e,children:r.jsxs(Ke,{...Ye,children:[T,p?r.jsx(Je,{...Qe}):null]})})})]})}),zo=yo(r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}));function No(o){const e=l.useMemo(()=>o.items.reduce((s,a)=>s+a.quantity*a.price,0),[o.items]);return r.jsxs(r.Fragment,{children:[r.jsxs(ee,{display:"flex",justifyContent:"space-between",children:[r.jsx(To,{onClick:o.handleAgregar,color:"primary",variant:"contained",children:"Agregar elemento"}),r.jsx(Z,{label:`Total $${we(e)}`,variant:"filled",color:"primary",size:"medium",sx:{fontWeight:"bold"}})]}),o.items.length===0&&r.jsx(bo,{alignSelf:"center",children:"Sin elementos"}),o.items.map((s,a)=>r.jsx(vo,{variant:"outlined",sx:{p:2,my:2},children:r.jsxs(b,{container:!0,spacing:2,children:[r.jsx(b,{size:12,children:r.jsxs(ee,{display:"flex",children:[r.jsxs(ee,{sx:{flexGrow:1},children:[r.jsx(Z,{label:`Elemento #${a+1}`,color:"primary",variant:"outlined",size:"medium",sx:{fontWeight:"bold"}}),r.jsx(Io,{title:"Eliminar elemento",sx:{mx:2},children:r.jsx(wo,{onClick:()=>o.handleEliminar(a),color:"default",size:"small",children:r.jsx(zo,{})})})]}),r.jsx(Z,{label:`Subtotal $${we(s.quantity*s.price)}`,variant:"outlined",color:"primary",size:"medium",sx:{fontWeight:"bold"}})]})}),r.jsx(b,{size:{xs:12,sm:7},children:r.jsx(N,{label:"Nombre",value:s.name,onChange:p=>o.handleEditarElementos(a,{...s,name:p.target.value}),size:"small",fullWidth:!0})}),r.jsx(b,{size:{xs:12,sm:2},children:r.jsx(N,{label:"Cantidad",value:s.quantity,onChange:p=>o.handleEditarElementos(a,{...s,quantity:parseInt(p.target.value)}),type:"number",size:"small",fullWidth:!0})}),r.jsx(b,{size:{xs:12,sm:3},children:r.jsx(N,{label:"Precio",value:s.price,onChange:p=>o.handleEditarElementos(a,{...s,price:parseFloat(p.target.value)}),type:"number",size:"small",fullWidth:!0})}),r.jsx(b,{size:12,children:r.jsx(N,{label:"Link (opcional)",value:s.link,onChange:p=>o.handleEditarElementos(a,{...s,link:p.target.value}),type:"url",size:"small",fullWidth:!0})})]})},`elemento_${a}`))]})}export{No as default};
